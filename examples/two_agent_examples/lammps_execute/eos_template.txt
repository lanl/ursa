log ./log.lammps

units           metal
atom_style      atomic
boundary        p p p

# Lattice and supercell
variable        a0    equal xxx
variable        nx    equal xxx
variable        ny    equal xxx
variable        nz    equal xxx
variable        Lx0   equal ${a0}*${nx}
variable        Ly0   equal ${a0}*${ny}
variable        Lz0   equal ${a0}*${nz}

lattice         xxx (fcc,bcc,etc....) ${a0}
region          box block 0 ${Lx0} 0 ${Ly0} 0 ${Lz0} units box
create_box     xx box
create_atoms   xx box

# Example random equiatomic assignment across 5 types (1..5)
# Adjust according to your needs
set type 1 type/fraction 2 0.20 ${seed}
set type 1 type/fraction 3 0.25 ${seed}
set type 1 type/fraction 4 0.3333 ${seed}
set type 1 type/fraction 5 0.5 ${seed}

# Masses 
mass 1 xxxx
mass 2 xxxx
mass 3 xxxx
mass 4 xxxx
mass 5 xxxx

# pair_style and pair_coeff details should be entered here

neighbor        2.0 bin
neigh_modify    delay 0 every 1 check yes

thermo          1
thermo_style    custom step pe press vol lx ly lz

# Energy minimization settings
min_style       cg
min_modify      dmax 0.1 line quadratic

# Variables for reporting
variable        e    equal pe
variable        p    equal press
variable        vvol equal vol

# Loop over scale factors (volume scan)
variable        i loop 11
label           loop
  variable      scale equal 0.94 + (v_i-1)*0.01
  variable      newa  equal ${a0}*${scale}
  variable      newLx equal ${newa}*${nx}
  variable      newLy equal ${newa}*${ny}
  variable      newLz equal ${newa}*${nz}

  # Rescale box and atoms to target volume
  change_box    all x final 0 ${newLx} y final 0 ${newLy} z final 0 ${newLz} remap units box

  reset_timestep 0
  minimize      1.0e-12 1.0e-12 10000 10000
  run           0

  # Report one line per state: scale, a(Ang), Vol(Ang^3), Pressure(bar), Energy(eV)
  print         "scale ${scale} a ${newa} vol ${vvol} press ${p} pe ${e}"

  next          i
jump            SELF loop

print           "# EOS scan complete."
